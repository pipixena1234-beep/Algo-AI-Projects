<!DOCTYPE html>
<html lang="en">
	
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My ICT Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="trail-container"></div>
	
<div class="hero">
  <h1 class="floating-text">üé® My ICT Portfolio</h1>
  <p>I love colors, drawing, storytelling and creativity!</p>
</div>

<div class="container">
	
  <div class="card"
        data-link="story1/story1.html"
		data-audio="story1/music2.mp3"
		data-gif="story1/1.gif">
      <div class="trail-container"></div>
    <h2 class="card-title">üñº Story 1</h2>
    <p class="card-text">Book of The Winds</p>
   	<img class="hover-gif" src="" alt=""/>
  </div>

  <div class="card" data-link="story2/story2.html"
					data-audio="story2/music1.mp3"
					data-gif="story2/3.gif">
      <div class="trail-container"></div>
    <h2 class="card-title">üß∞ Story 2</h2>
    <p class="card-text">The Echo of Aerion</p>
	<img class="hover-gif" src="" alt=""/>
  </div>

  <div class="card" data-link="story3/story3.html"
					data-audio="story3/music1.mp3"
					data-gif="story3/1.jpg">
      <div class="trail-container"></div>
    <h2 class="card-title">‚≠ê Story 3</h2>
    <p class="card-text">Fake World in Collapsing Norm</p>
	<img class="hover-gif" src="" alt=""/>
  </div>
	
</div>
<script>
	const cards = document.querySelectorAll(".card");
  	function getRandomPastel() {

    // Generate a pastel color

    const r = Math.floor((Math.random() * 127) + 127); // 127~254

    const g = Math.floor((Math.random() * 127) + 127);

    const b = Math.floor((Math.random() * 127) + 127);

    return `rgb(${r},${g},${b})`;

}

cards.forEach(card => {

  card.addEventListener("click", () => {

    // Reset other cards

    cards.forEach(c => c.classList.remove("active"));
    // Set random pastel background

card.style.backgroundColor = getRandomPastel();
    // Reset background color for other cards

cards.forEach(c => {

    if(c !== card) {

        c.style.backgroundColor = "white"; // default

    }

});

    // Shake effect

    card.classList.add("shake");

    setTimeout(() => {

      card.classList.remove("shake");

      card.classList.add("active");

      animateText(card);

    }, 350);

  });

});
  



function animateText(card) {

  const texts = card.querySelectorAll(".card-text");

  texts.forEach(text => {

    const original = text.textContent;

    text.innerHTML = "";

    text.classList.add("letter-animate");

    // Add letters

    [...original].forEach((char, i) => {

      const span = document.createElement("span");

      span.textContent = char;

      span.style.animationDelay = `${i * 0.06}s`;

      text.appendChild(span);

    });

  });

  // Trigger title bounce AFTER letters animate

  const title = card.querySelector(".card-title");

  if(title){

    // total letter animation duration = #letters * 0.06s + 0.35s

    const duration = texts[0] ? (texts[0].textContent.length * 60 + 350) : 500;

    setTimeout(() => {

      title.classList.add("card-title-bounce");

      // Remove class after animation so it can replay

      setTimeout(() => {

        title.classList.remove("card-title-bounce");

      }, 500);

    }, duration);
    
    // Inside animateText() after title bounce

const totalDuration = texts[0] ? (texts[0].textContent.length * 60 + 350 + 500) : 1000;

setTimeout(() => {

  flyStars(card, 35);

  const link = card.dataset.link;

  // Redirect AFTER stars finish flying
  setTimeout(() => {
    if (link) {
      window.location.href = link;
    }
  }, 1500); // match flyStar animation duration

}, totalDuration);


  }

}

</script>
 <script src="script.js"></script>
<footer>

  <p>Made with ‚ù§Ô∏è by Lim Shin Huei</p>

</footer>
</body>
</html>



